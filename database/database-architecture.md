# 데이터베이스와 아키텍처

데이터베이스는 견고하게 유지되야함.  
문제가 발생할 때 마다 정지해서는 인프라로써의 역할을 다하지 못함.  

### 아키텍처
> 시스템을 만들기 위한 물리레벨의 조합.

- 어떤 기능을 가진 서버를 준비하고 어떠한 저장소나 네트워크 기기와 조합해 시스템 전체를 만들 것인가.
- 하드웨어와 미들웨어의 구성
- 시스템의 목적과 기능

### 아키텍처 설계
> 아키텍처(구성)을 시스템이 완수해야할 목적과 비교하면서 결정하는 것

### 아키텍처의 중요성
시스템에 요구되는 조건을 충족하기 위해 '어떤 아키텍처가 적당할까' 라는 것을 생각하지 않고 시스템 구축에 걸리는 비용을 산출하는 것은 불가능.

아키텍처, 설계는 시스템 개발 초반에 시행하는 일 중 매우 중요한 일

## 데이터베이스의 아키텍처 
### 1. 역사와 개요

데이터베이스에 관한 아키텍처의 역사
- stand-alone
- client/server
- WEB 3계층

### stand-alone 
> 데이터베이스가 동작하는 머신(DB server)이 LAN이나 인터넷 등의 네트워크에 접속하지 않고 독립되어 동작하는 구성.

- 데이터베이스만으로 시스템이 성립하는 가장 간단한 방법.
- 데이터베이스의 미들웨어(DBMS)와 애플리케이션 소프트웨어는 같은 `DB server`에서 동작하기 때문에 데이터베이스를 사용하고 싶은 사용자는 `DB server`가 설치된 장소까지 물리적으로 접근해 서버 앞에서 데이터베이스를 사용해야함.

#### stand-alone의 단점
1. 물리적으로 떨어진 장소 외에는 접근할 수 없음.
2. 복수 사용자가 동시에 작업할 수 없음.  
    - 네트워크에 연결되어있지 않기 때문에 서버를 사용할 수 있는 사람 수는 1명으로 한정됨.
3. 가용성이 낮음.     
    - 서버가 1대밖에 없으므로 1대에 장애가 발생하면 서비스가 정지함.
    - `가용성` 시스템이 서비스 제공시간에 장애 없이 서비스를 계속 지속할 수 있는 비율이 어느 정도인가를 나타내는 개념.
4. 확장성이 부족함.     
    - 실제 머신이 1대밖에 없다는 것은 그 자체의 성능을 올리는 것 외에 개선 수단이 없다는 것을 의미.
    - 서버를 상위 기종으로 교환하거나 더 고성능의 부품으로 교환하기 위해 시스템을 정지해야해서 가용성을 점점 낮춤.

#### stand-alone의 장점
- 구축이 매우 간단해 소규모 작업이나 테스트를 빨리 할 수 있음.
- 보안이 매우 높음.(네트워크를 매개로 침입할 위험이 없기 때문)

### Client/Server 
> 데이터베이스 서버 1대에 복수 사용자의 단말이 접속하는 클라이언트/서버 구성

- 데이터베이스를 네트워크에 연결해 복수의 사용자가 물리적으로 떨어진 장소에서 데이터베이스를 접속할 수 있음.
- 데이터베이스 서버 1대에 복수 사용자의 단말이 접속할 수 있음.

`stand-alone`의 단점 1번,2번을 극복함.

#### client/server 구성의 단점
- 인터넷에서 직접 데이터베이스에 접속하는 것에 대한 보안 위험.
- 불특정 다수의 사용자가 사용하는 클라이언트에서의 애플리케이션 관리비용이 많이 드는 점.

<b>관리비용 문제란?</b>  
클라이언트/서버 시대엔 개인이 이용하는 PC에 애플리케이션을 설치해 동작하게 함.

인터넷을 통해 전 세계 불특정 다수의 사용자가 이용하는 애플리케이션은 각종 환겨에 대응해 애플리케이션을 작성해야하고, 각각에 대해 버전관리나 버그 수정 버전을 배포하는데 비현실적인 비용이 필요함.

<i>현재 스마트폰의 애플리케이션과 동일함.</i>

### WEB 3계층
> 시스템을 3가지 계층의 조합으로 구성. 현재 웹 시스템의 (거의)표준

- 비즈니스 로직을 실행하는 애플리케이션을 서버에서 관리해 비용을 절감하자는 요구가 나옴에 따라 `WEB 3계층` 구성이 등장함.
- 사용자로부터 직접적인 접속을 받는 역할을 웹 서버 계층에 한정하여 애플리케이션 계층과 데이터베이스 계층의 보안성을 높일 수 있음.
- 애플리케이션 계층에 비즈니스 로직을 집중해 애플리케이션 관리비용을 낮추는 구성이 됨.

#### 계층의 종류
- 웹 서버 계층
- 애플리케이션 계층
- 데이터베이스 계층

#### 웹 서버 계층
클라이언트로부터 접속 요청을 직접 받아 그 처리를 뒷단의 애플리케이션 계층으로 넘기고 그 결과를 클라이언트에게 반환.

- ex) 아파치(apache)

#### 애플리케이션 계층
비즈니스 로직을 구현한 애플리케이션이 동작하는 층.  
웹 서버로부터 연계된 요청을 처리하고 필요하면 데이터베이스의 계층(DB server)에 접속해 데이터를 추출하고 이를 가공한 결과를 웹 서버로 반환.

- ex) 톰캣(tomcat)




