# 라우팅
## 라우터
> 목적지까지 가장 빠른 길을 찾아주면서 네트워크 간을 연결하는 장비.

전달된 패킷의 수신처를 확인하고 다음 전송처를 결정함. (라우팅)  

<b>인터넷은 수많은 라우터들이 서로 연결되어 만들어진 거대한 넽웤</b>

## 라우팅
> 라우터가 수행하는 수신처까지의 경로 결정하고 다음 전송처로 패킷을 전송하는 작업

### 라우팅 테이블
회수한 패킷의 수신 IP 주소를 보고 라우팅 테이블을 참고로 다음에 어떤 라우터에게 전송할 지를 결정함.

<b>약간 배달부같은 느낌ㅎ_ㅎ</b>


### 라우팅 방법
#### 정적 라우팅
> 관리자에 의해 미리 등록된 테이블을 사용하여 수신처까지 전달하는 방법.

경로가 고정되어 있으므로, 그 경로 중 한 군데라도 상태가 잘못된 곳이 있으면 전달할 수 없음.

#### 동적 라우팅
> 라우터끼리 정보 교환을 수행하고, 그 시점에서 가장 적절한 경로를 사용하여 전달하는 방법.

경로 중  상태가 잘못된 곳이 있으면 자동적으로 다른 경로가 선택됨.


## 라우팅 프로토콜
> 동적 라우팅에서 라우터는 직접 연결되어 있는 다른 라우터로부터 정보를 얻어 라우팅 테이블을 작성할 때 사용되는 프로토콜.

### 라우팅 프로토콜 종류
- IGP(Interior Gateway Protocol)
    > 회사 내나 동일한 조직에 속한 라우터끼리 주고 받기 위한 프로토콜.
- EGP(Exterior Gateway Protocol)
    > 서로 다른 조직에 속한 라우터끼리 주고 받기 위한 프로토콜

### 주요 라우팅 프로토콜
- RIP(Routing Infomation Protocol)  
    IGP의 일종으로 중소 규모의 조직 내에서 사용.  
    목적지까지의 라우터 수(홉수)를 중시해 라우팅 테이블 작성.
- OSPF(Open Shortest Path First)  
    IGP의 일종으로 중대 규모의 조직 내에서 사용.  
    전송 속도 등을 고려하고 목적지까지의 <b>속도</b>를 중시해 라우팅 테이블 작성.
- BGP(Border Gateway Protocol)  
    EGP의 일종.   
    목적지 까지의 라우터 수(홉수)를 중시해 라우팅 테이블 작성.

## 라우팅의 구조
라우터는 MAC 주소를 사용하여 경유지를 지정함.

라우터 내에서
1. 네트워크층 : 수신 IP 주소를 확인하고 라우팅 테이블로부터 다음 전송처를 확인.
2. 데이터 링크층 : 전송처의 MAC 주소를 추가하여 네트워크로 보냄.

<b>IP 주소는 '최종 목적지', MAC 주소는 '경유지'를 나타냄.</b>

## refer
[TCP/IP가 보이는 그림책](http://www.cyber.co.kr/shop/goods/goods_view.php?goodsno=5993&category=020040)
