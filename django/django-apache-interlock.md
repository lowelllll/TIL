# 아파치 웹 서버 연동하기
## 배포 
- 장고를 사용하여 웹 애플리케이션을 개발 한 후 서비스 하기 위해서는 운영환경에 개발한 프로그램을 배포하고 실행해야함.
- 개발환경에서 운영환경으로 옮겨가기 위해서는 개발 시 지정했던 설정사항을 몇가지 변경해야하고 운영환경의 웹 서버에서도 개발한 애플리케이션을 인식할 수 있도록 설정사항 변경이 필요함.
## mod_wsgi 확장 모듈
### Apache
- 아파치 웹 서버의 프로그램 명 : httpd
- 추가로 필요한 기능을 모듈로 만들어 동적 로딩 방식으로 기능을 확장할 수 있다.
### mod_wsgi
- mod_wsgi는 파이썬 웹 애플리케이션을 실행 할 수 있는 확장 모듈 중 하나이다.
- 파이썬의 웹 애플리케이션 표준 규격인 wSGI를 구현한 확장 모듈이며 파이선 웹 애플리케이션을 아파치에 실행하는데 사용함.
- C언어로 구현되어있어 내부적으로 아파치가 직접 파이썬 API와 동작하므로 상대적으로 적은 메모리를 사용함. CGI에 비해 좋은 성능을 가짐.
### mod_wsgi를 사용해 웹 애플리케이션(WSGI 애플리케이션)을 실행하는 실행모드
#### 내장모드
- 내장모드로 WSGI 애플리케이션을 실행하는 방식
- 아파치 자식 프로세스 컨텍스트 내에서 애플리케이션이 실행됨.
- 같은 아파치 웹 서버에서 실행되는 다른 웹 애플리케이션과 같은 아파치 자식 프로세스를 공유하게 됨.
- 단점으로 WSGI 애플리케이션의 소스가 변경되어 다시 적용하려면 아파치 전체를 재 기동을 해야하고 재 기동으로 인해 다른 서비스에도 영향을 받게되며 경우에 따라서 아파치 재 기동 권한이 없을 수 도 있음.
#### 데몬모드
- 유닉스 기반의 아파치 2.0 이상에서 지원
- WSGI 애플리케이션의 전용 프로세스에서 애플리케이션이 실행됨.
- WSGI 애플리케이션을 구현할때 별도의 프로세스 관리자나 WSGI 어댑터가 필요하지 않고 모든 처리는 mod_wsgi가 관리.
- WSGI 애플리케시연이 데몬모드로 동작할 시 다른 아파치 자식 프로세스와 별도의 프로세스에서 동작하기 때문에 정적인 파일을 서비스하는 프로세스와 PHP,Perl 등 아파치 모듈로 서비스하는 다른 애플리케이션에 미치는 영향이 미미함.
- 필요하다면 WSGI 애플리케이션 간에도 서로 영향을 주지 않도록 실행 유저를 달리하여 데몬 프로세스를 기동하는 것이 가능하다.

장고는 안정성을 고려해 내장모드보단 데몬모드로 실행할 것을 권장함.